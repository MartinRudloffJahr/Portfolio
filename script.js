const iconData = {
  // Your icon data here (as previously described)
  // Example:
  "icon1": {
    title: "About me",
    description: "Born in 1994 in Santiago, Chile, I was an only child who found companionship and joy in gaming. From after-school Nintendo 64 sessions to online gaming, these experiences sparked my passion for video game design. Balancing this passion with academic pursuits, I also thrived in social settings, effortlessly blending my love for digital worlds with engaging, real-world interactions. This blend of professional focus and personal enthusiasm has defined my approach, always maintaining a balance between responsibility and the spirited enjoyment of life's diverse experiences.",
    images: [
        'images/content/me4.png',
        'images/content/me2.png',
        'images/content/me5.png',
    ]
},
    "icon2": {
    title: "Moving to Berlin",
    description: "My mom and I underwent a lengthy process to become German citizens, and I was the first to relocate to Berlin. The experience has been wonderful so far. I've made great friends, enjoyed amazing parties, explored numerous interesting places, and established a community and a home for myself. Embracing a relaxed approach, I've delved into studying German and data science, and even taken up dog walking as a side job and hobby.",
    images: [
        'images/content/me6.png',
        'images/content/me1.png',
        'images/content/me7.png',
    ]
},

  "icon3": {
    title: "Looking for",
    description:"Embarking on my career, I found myself immersed in the world of educational video games, an experience that honed my skills but also kindled a yearning for something grander. My true calling lies in the vast, intricate universe of MMORPGs – a genre that resonates with my very essence. I crave a vibrant, dynamic environment where I can not only apply but also expand my expertise, growing alongside a genre that has always captivated me. My journey in educational gaming was just the beginning; I am eager to dive into the larger, exhilarating realm of MMORPGs, where I can truly thrive and contribute to something that feels not just like a job, but a part of who I am." ,


    images: [
        'images/content/albion2.jpg',
        'images/content/me8.png',
        'images/content/wow1.jpg',
    ]
  },
  "icon4": {
    title: "Working with me",
    description: "Given my background, it's no surprise that I'm outgoing in the workplace. I make it a point to connect with everyone, showing genuine interest in their projects and ideas. Thriving in a team environment, I adapt swiftly to varying challenges and projects, firmly believing that creating fun games requires an engaging, dynamic approach. I'm always enthusiastic about team-building activities, especially if they involve a good beer",

    images: [
        'images/content/me9.jpeg',
        'images/content/me10.jpeg',
        'images/content/me3.png',

    ]
  },
  "icon5": {
    title: "RAQN",
    description: "Immediately after college, I seized the opportunity to work with my coolest professor on RAQN as a Game Designer. For the next three years, I was part of an incredible team of 10, crafting educational video games. Our collaborative efforts involved working with children, teachers, and others passionate about creating games with a purpose and heart. During this time, I learned immensely, managing and designing several projects from concept to launch, many of which are showcased in this portfolio. My move to Berlin led to a reduction in my responsibilities, but we still collaborate occasionally and maintain regular contact.",

    images: [
        'images/marsexplo.png',
        'images/forest.png',
        'images/museo.png',
    ]
  },
  "icon6": {
    title: "Forest",
    description: "Forest is an educational platform akin to Netflix but for educational video games, designed to augment online classes with games and various tools. Supported by a structured teaching process and an analytical approach to tracking learning progress, I contributed extensively to this project. My roles encompassed App Design, Wireframing, creating Mockups, handling Marketing aspects, Translation, as well as developing Features and improvements.",
    images: [
        'images/content/forest1.png',
        'images/content/forest2.png',
        'images/content/forest3.png',
    ]
  },
  "icon7": {
    title: "Mars Explorer",
    description: "For a space exploration exhibit in a museum, we developed a trio of mini-games focused on Rovers, Space Colonies, and Spacecraft. In collaboration with a science department, we crafted entertaining and accurate experiences to engage museum visitors. My contributions to this project included Iteration, Research, Concept Development, Game Design, creating Game Design Documents (GDD), Level Design, and overseeing Production.",
    images: [
        'images/content/mars1.png',
        'images/content/mars2.png',
        'images/content/mars3.png',
    ]
  },
  "icon8": {
    title: "Museum App - Chilean Museum of Humans Rights and Memory",
    description: "Conectados is an application created for the Chilean Museum of Memory and Human Rights. It assists visitors in navigating the museum, accessing online media, registering their visit, and sharing content. My involvement in this project covered Research, Iteration, App Design, creating Wireframes, and managing Production.",
    images: [
        'images/content/museo1.png',
        'images/content/museo2.png',
        'images/content/museo3.png',
    ]
  },
  "icon9": {
    title: "Data Science & AI - Le Wagon",
    description: " ",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },
  "icon10": {
    title: "Video Game Design - University Andres Bello",
    description: " ",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },
  "icon11": {
    title: "Mision Esodia",
    description: "isión Esodia is a video game developed for the NGO Odisea, a Zelda like with puzzels made specially with the aim of supporting its proprietary method of Project-Based Learning. For this project I worked on: Iteration, Research, Concept, Game Design, GDD, Level design, Production, Testing and Marketing.",
    images: [
        'images/content/od1.png',
        'images/content/od2.png',
        'images/content/od3.png',
    ]
  },
  "icon12": {
    title: "Alai",
    description: "Project developed for the Mutual of Security and the Chilean Chamber of Construction, ALAI is a platform that seeks to motivate the leaders of construction companies to collaborate in the prevention of fatal accidents. For this project I worked on: Research, Iteration, App Design, Game Design, GDD, Wireframes and Production",
    images: [
        'images/content/alai1.png',
        'images/content/alai3.png',
        'images/content/alai2.png',
    ]
  },
  "icon13": {
    title: "Web Dev (html,js,css)",
    description: "Honorable mention to this page, who has been my most recent project after some of the skills I learnt at the bootcamp, its my humble attempt at web design, working with html, java script and ccs all from scratch",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },
  "icon14": {
    title: "Game Design",
    description: "Research, Brainstorming, GDD Writing",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },
  "icon15": {
    title: "Game Development",
    description: " ",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon16": {
    title: "Project Managment",
    description: "",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon18": {
    title: "Albion Online",
    description: "I just admire Albion design on so many levels, I awould be thrilled to work with them. Knowing about the game just a couple weeks before release and convicing all my friends to try it, I've been in and out but always up to go online and get into some trouble. Keeping in touch with the community and every update, Albion has a very special place in my heart",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon17": {
    title: "World of Warcraft",
    description: "If you wonder why I often wear a cap, World of Warcraft has been a huge part of my gaming life, and since my interests go into game design, I've kept on with what have been some of the best and worst design decisions of this amazing but at times chaotic colossus of a game.",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon19": {
    title: "World of Warcraft: Classic",
    description: "Description World of Warcraft: Classic",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon20": {
    title: "WoW Ascension",
    description: "Description for WoW Ascension",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon21": {
    title: "Food Dojo",
    description: "Food Dojo is a puzzle and visual memory game, developed to reinforce the learning of vocabulary in the English language of basic general education. For this project I worked on: Level Design, Production, Marketing, Graphic Design and Testing.",
    images: [
        'images/content/fd1.png',
        'images/content/fd2.png',
        'images/content/fd3.png',
    ]
  },  "icon22": {
    title: "Ragnarok Online",
    description: "Description for Ragnarok Online",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon23": {
    title: "Brujulab",
    description: "Brujulab develops high-impact vocational counseling for 3rd and 4th grade students which adds value to the desicion and practical exercises, based on Positive Psychology and Integrative Coaching. For this project I worked on: Game Design, Learning method adaptation, Production.",
    images: [
        'images/content/blab.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon24": {
    title: "Habbo Hotel",
    description: "Description for Habbo Hotel",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon25": {
    title: "Rogue Likes",
    description: "Description for Rogue likes",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon26": {
    title: "MOBAs",
    description: "League of Legends",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },  "icon27": {
    title: "Auto Battlers",
    description: "TFT, Dota Auto Chess,",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },
  "icon28": {
    title: "TCG",
    description: "Description for TCG",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },
  "icon29": {
    title: "Building Games",
    description: "Minecraft, Satisfactory, Sims",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },
  "icon30": {
    title: "Nintendo 64",
    description: "N64",
    images: [
        'images/button1.png',
        'images/button2.png',
        'images/button3.png',
    ]
  },










};

const n64Colors = ['#e60012', '#13a10e', '#0037da', '#fcd116']; // N64 palette colors

document.addEventListener("DOMContentLoaded", function() {
  const navLinks = document.querySelectorAll('nav ul li a');
  const icons = document.querySelectorAll('.icon');
  const slider = document.getElementById("slider");
  const imageOverlay = document.getElementById("image-overlay");
    const firstIcon = document.getElementById('icon1');
  if (firstIcon) {
    firstIcon.classList.add('active-icon', 'clicked-icon');
    openSlider('icon1');}

  // Navigation link hover and focus events
  navLinks.forEach(link => {
    link.addEventListener('mouseenter', () => link.style.color = '#FFFFFF');
    link.addEventListener('focus', () => link.style.color = '#FFFFFF');
    link.addEventListener('mouseleave', () => link.style.color = '');
    link.addEventListener('blur', () => link.style.color = '');
    link.addEventListener('click', scrollToSection); // Scroll to section functionality
  });

  // Icon click functionality
  icons.forEach(icon => {
    icon.addEventListener('click', function(event) {
      icons.forEach(ic => ic.classList.remove('active-icon', 'clicked-icon')); // Remove both classes from all icons
      this.classList.add('active-icon', 'clicked-icon'); // Add both classes to the clicked icon
      openSlider(this.id);
      event.stopPropagation();
    });
  });

  // Slider close functionality
  document.getElementById("close-slider").addEventListener("click", closeSlider);

  // Overlay functionality
  const gridImages = document.querySelectorAll('.image-grid img');
  gridImages.forEach(img => {
    img.addEventListener('click', function() {
      openOverlay(this.src);
    });
  });

  imageOverlay.addEventListener('click', function(e) {
    if (e.target === this) {
      closeOverlay();
      openSliderFromOverlay();
    }
  });

  // Prevent closing slider on click inside
  slider.addEventListener("click", function(event) {
    event.stopPropagation();
  });

  // Prevent closing overlay on click inside
  document.getElementById("overlay-image").addEventListener('click', function(e) {
    e.stopPropagation();
  });

  // Functions
  function openSlider(iconId) {
    const data = iconData[iconId];
    if (data) {
      document.getElementById('slider-title').innerText = data.title;
      document.getElementById('slider-description').innerText = data.description;

      for (let i = 1; i <= 4; i++) {
        document.getElementById('img' + i).src = data.images[i - 1];
      }

      slider.classList.add('show-slider');
    } else {
      console.error("Icon data not found for id: " + iconId);
    }
  }

  function closeSlider() {
    slider.classList.remove('show-slider');
    icons.forEach(ic => ic.classList.remove('clicked-icon')); // Remove clicked class when closing slider
  }

  function openOverlay(imgSrc) {
    document.getElementById("overlay-image").src = imgSrc;
    imageOverlay.style.display = 'flex';
  }

  function closeOverlay() {
    imageOverlay.style.display = 'none';
  }

  function openSliderFromOverlay() {
    const activeIconId = document.querySelector('.clicked-icon').id;
    openSlider(activeIconId);
  }

  function scrollToSection(event) {
    event.preventDefault();
    var sectionId = this.getAttribute('href');
    var section = document.querySelector(sectionId);
    var headerOffset = 160;
    var sectionPosition = section.getBoundingClientRect().top + window.pageYOffset;
    var offsetPosition = sectionPosition - headerOffset;

    window.scrollTo({
      top: offsetPosition,
      behavior: 'smooth'
    });
  }

  window.addEventListener("click", function() {
    if (!slider.contains(event.target) && !imageOverlay.contains(event.target)) {
      closeSlider();
    }
  });
});
